{% extends "mainpage/layout.html" %}
{% block libraries %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
{% endblock libraries %}
{% block content %}
{% set show_logout_button = true %}
{% include "mainpage/navbar.html" %}

<div id="sequence">

</div>

{% endblock content %}
{% block additional_scripts %}
<script src="../js/reverse.js"></script>
<script>
    let decompressed_command, html_command;
    {% for command in commands %}
        decompressed_command = deprocessRecursively("{{ command.function }}");
        html_command = `<div class="rounded-[6px] bg-[#93B7BE] items-center content-center w-[60%] h-fit p-2">
                            <div class="header">
                                <label>{{ command.name }}</label>
                                <button onclick="deleteFunction('{{ command.name }}')" id="btn_delete_fun" class="w-fit h-fit ml-0.5 bg-hvr_txt_color text-txt_color font-bold py-1 px-2 border-nav_color hover:text-nav_color rounded">
                                    X
                                </button>
                            </div>
                            <div class="w-fit static h-fit">
                                ${decompressed_command}
                            </div>
                        </div>
                        <div class="h-[40px] w-full"></div>`;
        document.getElementById("sequence").insertAdjacentHTML("beforeend", html_command);
    {% endfor %}
</script>

{% endblock additional_scripts %}